<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-GB">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
    <meta name="author" content="Jay Kint" >
    <meta name="description" content="rpgist: one that specializes in the art or science or skill of RPGs" >
    <meta name="keywords" content="" >
    <meta name="robots" content="index, follow" />
    <link rel="stylesheet" href="http://brick.a.ssl.fastly.net/Source+Sans+Pro:400,400i/Inconsolata:500">
    <link rel="stylesheet" href="/styles/post.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <title>The RPGist - Baldur&#39;s Gate Enhanced Edition Fallen Ranger Restore</title>
</head>
<body>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<!-- <script src="http://desandro.github.io/imagesloaded/imagesloaded.pkgd.js"></script> -->
<script src="/js/debug.js"></script>
<script src="/js/expertisedice.js"></script>

<div id="middle">

<div id="header">

<div class="grid">
    <div class="grid-col-1-3" id="title">
        <a href="/index.html"><h1>Expertise<br/>Dice</h1></a>
        <p>rpgist: one that specializes in the art or<br/>science or skill of RPGs</p>
    </div>
    <div class="grid-col-2-3">
        <img src="/images/expertisedice.jpg" width="100%">
    </div>
</div>

</div>

<div id="body">
    <div class="grid">
        <div class="grid-col-1-5">
          <div id="sidebar">
            <p>By <a href="http://twitter.com/icosahedron">@icosahedron</a></p>
            <br/>
            <p><a href="/index.html">HOME</a></p>
            <p><a href="/sidebar/archive.html">ARCHIVE</a></p>
            <p><a href="/sidebar/colophon.html">COLOPHON</a></p>
            <p><a href="/sidebar/games.html">GAMES</a></p>
            <p><a href="/sidebar/contact.html">CONTACT</a></p>
          </div>
        </div>
        <div class="grid-col-4-5">
          <div id="post">
            <div id="content">
              <h1 id="baldersgateenhancededitionfallenrangerrestore">Balder’s Gate Enhanced Edition Fallen Ranger Restore</h1>

<p>(This article is valid as of 5/1/2016. It works on Mac and PC, but not
iPad.)</p>

<p>I’ve been playing Balder’s Gate: Enhanced Edition (BGEE) since GOG.com
had it on sale for $2.99 a few weeks back. I’m not very far along,
mostly due to time constraints, but I did manage to have my ranger
become fallen.</p>

<p>I don’t know why, and the last few save games he was already fallen, and
I didn’t feel like backtracking that far in the game.</p>

<p>A few searches later, and I found that it was relatively easy to restore
a ranger from their fallen state via a script, but the instructions were
a bit dated and I had to figure some steps on my own, so I thought this
guide might be handy for others as well.</p>

<p>First, these instructions are for OS X since I’m running BGEE on OS X.
They are likely easy to apply to Windows, and the links I have below
mention instructions for Windows.</p>

<p>I do assume that you are comfortable with Terminal, moving around
directories, and running command line programs in OS X.</p>

<h2 id="ontheshoulders">On the Shoulders</h2>

<p>First, I took most of the information from the following 2 links. The
first references the second, but I included it since it has most of the
necessary information:</p>

<ul>
<li><a href="https://forums.beamdog.com/discussion/10856/recovering-fallen-paladinranger">Recovering a Fallen Paladin or
Ranger</a><a href="#fn:1" id="fnref:1" title="see footnote" class="footnote">[1]</a></li>
<li><a href="https://forums.beamdog.com/discussion/6950/player-how-to-getting-mods-to-work-on-bgee/p1">Getting Mods to Work in
BGEE</a></li>
</ul>

<p>With these two links you are likely to get everything you need, but they
do have some outdated information and reference utilities that either
aren’t available anymore or aren’t really necessary.</p>

<p>Also, they assume a little more knowledge of BGEE scripting than I had,
so I have augmented some of their instructions with a little more
detail.</p>

<h2 id="setupdownloadandlocate">Setup (Download and Locate)</h2>

<p>First, download the WeiDU script compiler. I found it at
<a href="http://www.weidu.org/~thebigg/">http://www.weidu.org/~thebigg/</a>. Decompress it to somewhere accessible
(I left mine in the Downloads directory - <code>~/Downloads/WeiDU-Mac</code>).</p>

<p>Next, we need to locate where the script should be placed. The
instructions mention to locate the chitin.key file. I guess Spotlight
doesn’t search application bundles, but I did find it eventually buried
within the app within the app. Go figure.</p>

<p>The final resting place was
<code>/Applications/Baldur's Gate Enhanced Edition.app/Contents/Resources/game/Baldur's Gate - Enhanced Edition.app/Contents/Resources</code>.
Probably the easiest thing to do is to open a terminal and just <code>cd</code> to
that directory.</p>

<p>The last thing for setup is making sure that WeiDU can work with the
BGEE installation. The second link talks about doing this:</p>

<pre><code>ln -s ./lang/en_US/dialog.tlk dialog.tlk
</code></pre>

<h2 id="scriptandcompile">Script and Compile</h2>

<p>Now come the changes to restore your ranger.</p>

<p>Open your favorite text editor and put in the following script:</p>

<pre><code>IF
  HotKey(D)
THEN
  RESPONSE #100
    RegainRangerHood()
END
</code></pre>

<p>Save this into the BGEE directory (I saved it as FallenRanger.baf).</p>

<p>Compile this script into something that BGEE can use:</p>

<pre><code>~/Downloads/WeiDU-Mac/weidu FallenRanger.baf --out scripts --use-lang en_US
</code></pre>

<p>Last, we have to fix up some of the output to be digestible by BGEE.</p>

<pre><code>cd scripts
mv FallenRanger.bcs aFall.BS
chmod ugo+x aFall.BS
</code></pre>

<p>I don’t know why the scripts have to be marked executable, but they are,
so I followed suit. They don’t appear in BGEE unless they are marked as
such.</p>

<h2 id="gorionwouldbeproudofyou">“Gorion Would Be Proud of You”</h2>

<p>That magic moment where we again ascend to ranger hood and can charm
animals and hate on orcs or giants.</p>

<ul>
<li>Open BGEE and load your saved game file.</li>
<li>Turn off Party AI.</li>
<li>Click on your character.</li>
<li>Select the character screen, choose customize, choose script, and
note the currently selected script.</li>
<li>Find CUSTOM(AFALL) in the list near the bottom, choose it, choose
done, done, and ESC to exit that screen.</li>
<li>Select another character.</li>
<li>Choose Party AI On.</li>
<li>Select your character again. Type ‘D’. You should hear a message
similar to “Gorion would be proud of your actions.”</li>
<li>Go back and choose the script for your character that was
chosen before. (See above instructions.)</li>
<li>Save your game.</li>
</ul>

<p>Voilà, you are now a ranger again!</p>

<hr />

<div class="footnotes">
<hr />
<ol>

<li id="fn:1">
<p>This link also works for fallen paladins too, though the script
would be changed to call <code>RegainPaladinHood()</code>. The directions in the
remainder of the document remain the same. <a href="#fnref:1" title="return to article" class="reversefootnote">&#160;&#8617;</a></p>
</li>

</ol>
</div>


            </div>
          </div>
        </div>
    </div>
</div>

<div id="footer">
    <div class="grid">
      <div class="grid-col-1" id="credits">
          <p>Dice designed by <a href="http://www.ericharshbarger.org/dice/">Eric C. Harshbarger</a>.  Dungeon Map by <a href="http://paratime.ca/cartography/blue_dungeons.html">Tim Hartin</a>.</p>
      </div>
    </div>
</div>

</div>

</div>

<!-- Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44163304-1', 'expertisedice.com');
</script>
<!-- End Google Analytics -->

</body>
</html>
